package be.copii;

import be.copii.Engine;
import be.telenet.utils.version.TelenetVersionUtils;
import javax.tv.xlet.Xlet;
import javax.tv.xlet.XletContext;
import javax.tv.xlet.XletStateChangeException;

/**
*
* @author Lorenz Adriaensen
*/

public class Main implements Xlet {
	
	private XletContext ctx;
	
	public void initXlet(XletContext ctx) throws XletStateChangeException {
		this.ctx = ctx;
        Engine.initialize();
        Engine.getInstance().setCtx(ctx);
	}
	
	public void startXlet() throws XletStateChangeException {
        new Thread(new Runnable() {
            public void run() {
                TelenetVersionUtils.getInstance(TelenetVersionUtils.initialize(ctx, Engine.appname)).reportVersion("0.1", "2014/05/29 10:00");
                Engine.getInstance().start();
                Engine.getInstance().logEvent("Application started");
            }
        }).start();
	}

	public void destroyXlet(boolean unconditional)
			throws XletStateChangeException {
		// TODO Auto-generated method stub

	}

	

	public void pauseXlet() {
		// TODO Auto-generated method stub

	}



}
